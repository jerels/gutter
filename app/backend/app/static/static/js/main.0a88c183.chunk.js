(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{70:function(e,t,n){e.exports=n(83)},79:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t),n.d(t,"store",(function(){return Ee}));var a=n(0),r=n.n(a),c=n(9),s=n.n(c),u=n(10),o=(n(79),n(6)),i=n.n(o),l=n(11),m=n(36),p=n(14),f=n(20),d=n(124),b=n(117),E=n(113),g=n(37),v=n.n(g),h=n(26),O=function(e){return{type:"users/SET_USER",user:e}},j=function(e,t,n){var a=v.a.get("XSRF-TOKEN");return function(){var r=Object(l.a)(i.a.mark((function r(c){var s,u;return i.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,fetch("/api/users/",{method:"post",headers:{"Content-Type":"application/json","X-CSRFTOKEN":a},body:JSON.stringify({username:e,password:n,email:t,csrf_token:a})});case 2:return s=r.sent,r.next=5,s.json();case 5:if(u=r.sent,s.data=u,!s.ok){r.next=12;break}return c(O(s.data)),r.abrupt("return",s);case 12:return console.error("Bad response"),r.abrupt("return",s);case 14:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()};var y=function(e){return function(){var t=Object(l.a)(i.a.mark((function t(n){var a,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/issues/",{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({issues:e})});case 2:return a=t.sent,t.next=6,a.json();case 6:if(r=t.sent,a.data=r,console.log(a.data),!a.ok){t.next=14;break}return n({type:"issues/SET_ISSUES",issues:a.data}),t.abrupt("return",a);case 14:return console.error("Bad response"),t.abrupt("return",a);case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},x=function(e,t){return function(){var n=Object(l.a)(i.a.mark((function n(a){var r,c;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("/api/issues/".concat(e),{method:"put",headers:{"Content-Type":"application/json"},body:JSON.stringify({marvelId:t})});case 2:return r=n.sent,n.next=5,r.json();case 5:if(c=n.sent,r.data=c,!r.ok){n.next=12;break}return a(O(r.data.user)),n.abrupt("return",r);case 12:return console.error("Bad response"),n.abrupt("return",r);case 14:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},w=function(e,t){return function(){var n=Object(l.a)(i.a.mark((function n(a){var r,c;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("/api/issues/",{method:"delete",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e,marvelId:t})});case 2:return r=n.sent,n.next=5,r.json();case 5:if(c=n.sent,r.data=c,!r.ok){n.next=12;break}return a(O(r.data.user)),n.abrupt("return",r);case 12:return console.error("Bad response"),n.abrupt("return",r);case 14:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()};var k=function(e,t){var n=v.a.get("XSRF-TOKEN");return function(){var a=Object(l.a)(i.a.mark((function a(r){var c;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("/api/session/login",{method:"post",headers:{"Content-Type":"application/json","X-CSRFTOKEN":n},body:JSON.stringify({emailOrUsername:e,password:t,csrf_token:n})});case 2:return c=a.sent,a.next=5,c.json();case 5:return c.data=a.sent,console.log(c.data.user),c.ok&&(r(O(c.data.user)),r(y(c.data.user.issues)),r({type:"session/SET_SESSION",user:c.data.user.id})),a.abrupt("return",c);case 10:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},S=function(){var e=v.a.get("XSRF-TOKEN");return function(){var t=Object(l.a)(i.a.mark((function t(n){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/session/logout",{method:"delete",headers:{"X-CSRFTOKEN":e}});case 2:return a=t.sent,t.next=5,a.json();case 5:return a.data=t.sent,a.ok&&n({type:"session/LOGOUT_USER"}),t.abrupt("return",a);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},N={user:null};var T=Object(E.a)((function(e){return{root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"20ch"},"& .MuiButton-root":{margin:15}}}})),_=Object(p.g)((function(e){var t=e.history,n=Object(a.useState)(""),c=Object(f.a)(n,2),s=c[0],o=c[1],m=Object(a.useState)(""),p=Object(f.a)(m,2),E=p[0],g=p[1],v=Object(a.useState)([]),h=Object(f.a)(v,2),O=h[0],j=h[1],y=T(),x=Object(u.c)();Object(a.useEffect)((function(){j([])}),[s,E]);var w=function(){var e=Object(l.a)(i.a.mark((function e(n){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,x(k(s,E));case 3:if(!(a=e.sent).ok){e.next=7;break}return t.replace("/user"),e.abrupt("return");case 7:j(a.data.errors);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("form",{method:"",action:"",className:y.root,onSubmit:w},r.a.createElement(d.a,{required:!0,size:"small",label:"Email/Username",type:"text",variant:"filled",name:"email_or_username",value:s,onChange:function(e){o(e.target.value)}}),r.a.createElement(d.a,{required:!0,size:"small",label:"Password",type:"password",variant:"filled",name:"password",value:E,onChange:function(e){g(e.target.value)}}),O.length?r.a.createElement("ul",null,O.map((function(e,t){return r.a.createElement("li",{key:"error-".concat(t+1)},e)}))):r.a.createElement(r.a.Fragment,null),r.a.createElement(b.a,{type:"submit",color:"inherit"},"Login"))})),C=Object(p.g)((function(e){var t=e.history,n=Object(a.useState)(""),c=Object(f.a)(n,2),s=c[0],o=c[1],m=Object(a.useState)(""),p=Object(f.a)(m,2),E=p[0],g=p[1],v=Object(a.useState)(""),h=Object(f.a)(v,2),O=h[0],y=h[1],x=Object(a.useState)([]),w=Object(f.a)(x,2),S=w[0],N=w[1],T=Object(u.c)();Object(a.useEffect)((function(){N([])}),[s,E,O]);var _=function(){var e=Object(l.a)(i.a.mark((function e(n){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,T(j(E,s,O));case 3:if(!(a=e.sent).ok){e.next=10;break}return e.next=7,T(k(E,O));case 7:return t.replace("/user"),N(a.data.errors),e.abrupt("return");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("form",{onSubmit:_},r.a.createElement("div",null,r.a.createElement(d.a,{name:"username",type:"text",value:E,onChange:function(e){g(e.target.value)},label:"Username"})),r.a.createElement("div",null,r.a.createElement(d.a,{name:"email",type:"email",value:s,onChange:function(e){o(e.target.value)},label:"Email"})),r.a.createElement("div",null,r.a.createElement(d.a,{name:"password",type:"password",value:O,onChange:function(e){y(e.target.value)},label:"Password"})),r.a.createElement("div",null,S.length?r.a.createElement("ul",null,S.map((function(e,t){return r.a.createElement("li",{key:"error-".concat(t+1)},e)}))):r.a.createElement(r.a.Fragment,null)),r.a.createElement(b.a,{type:"submit"},"Continue"))}));var I=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("strong",null,"Username:")," ",e.user.username,r.a.createElement("br",null),r.a.createElement("strong",null,"Email:")," ",e.user.email,r.a.createElement("br",null),r.a.createElement("hr",null))};var U=function(e){var t=Object(a.useState)([]),n=Object(f.a)(t,2),c=n[0],s=n[1];Object(a.useEffect)((function(){function e(){return(e=Object(l.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/users/");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,s(n.users);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var u=c.map((function(e){return r.a.createElement(I,{key:e.id,user:e})}));return console.log("____Rendering User List____"),r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"User List: "),u)},F=n(118),R=n(119),B=n(59),L=n.n(B),D=n(84),J=function(e){var t=e.cover,n=G();return console.log(t),r.a.createElement(D.a,{className:n.paper,square:!0},r.a.createElement("img",{alt:t,src:t}))},G=Object(E.a)((function(e){return{root:{flexGrow:1,marginLeft:e.spacing(1)},paper:{height:225,width:150,elevation:4},grid:{marginTop:e.spacing(5)}}})),K=function(){var e=Object(u.d)((function(e){return e.entities.users.issues})),t=Object(u.d)((function(e){return e.session.user})),n=Object(u.c)(),a=G();return r.a.createElement(F.a,{container:!0,className:a.root,spacing:2,item:!0,xs:4},e.map((function(e){return r.a.createElement(F.a,{className:a.grid,key:e.marvelId,item:!0},r.a.createElement(J,{cover:e.cover}),r.a.createElement(R.a,{onClick:(c=e.marvelId,function(){var e=Object(l.a)(i.a.mark((function e(a){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),e.next=3,n(w(t,c));case 3:return e.abrupt("return");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),color:"primary","aria-label":"upload picture",component:"span"},r.a.createElement(L.a,null)));var c})))},X=n(125),q=n(120),M=Object(E.a)((function(e){return{avatar:{width:e.spacing(20),height:e.spacing(20),marginBottom:e.spacing(2)},control:{height:e.spacing(100),width:e.spacing(20),marginTop:e.spacing(2)},bio:{height:e.spacing(5),width:e.spacing(20)}}})),z=function(e){var t=e.username,n=M();return console.log(t),r.a.createElement(F.a,{className:n.control,container:!0,item:!0,xs:4,direction:"column",justify:"flex-start",alignItems:"center"},r.a.createElement(X.a,{className:n.avatar,alt:t,src:"https://cdn.business2community.com/wp-content/uploads/2017/08/blank-profile-picture-973460_640.png"}),r.a.createElement(q.a,{className:n.bio},"'Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Non blandit massa enim nec. Morbi leo urna molestie at elementum eu facilisis sed odio. Amet risus nullam eget felis eget nunc. Egestas fringilla phasellus faucibus scelerisque eleifend donec pretium.'"))},A=n(121),H=n(122),P=n(63),W=function(){var e=Object(u.c)(),t=function(){var t=Object(l.a)(i.a.mark((function t(n){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,e(S());case 3:return t.abrupt("return");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(P.a,{onClick:t},r.a.createElement(X.a,{src:"https://cdn.business2community.com/wp-content/uploads/2017/08/blank-profile-picture-973460_640.png"}))},Q=Object(E.a)((function(e){return{root:{flexGrow:1},title:{flexGrow:1},header:{backgroundColor:"#492742"}}})),V=function(){var e=Q(),t=Object(u.d)((function(e){return e.session.user}));return r.a.createElement("div",{className:e.root},r.a.createElement(A.a,{className:e.header,position:"static"},r.a.createElement(H.a,null,r.a.createElement(q.a,{variant:"h6",className:e.title},"The Gutter"),t?r.a.createElement(W,null):r.a.createElement(_,null))))},Y=n(123),Z=Object(E.a)((function(e){return{footer:{padding:e.spacing(3,2),marginTop:"auto",backgroundColor:"#E14F5D"}}})),$=function(){var e=Z();return r.a.createElement("footer",{className:e.footer},r.a.createElement(Y.a,{maxWidth:"lg"}))},ee=n(60),te=n.n(ee),ne=Object(E.a)((function(e){return{root:{marginTop:e.spacing(5),marginLeft:e.spacing(1)},title:{marginBottom:e.spacing(1)}}})),ae=function(){var e=Object(u.c)(),t=ne(),n=Object(u.d)((function(e){return e.entities.users.followed})),a=Object(u.d)((function(e){return e.session.user}));return r.a.createElement(F.a,{className:t.root,container:!0,spacing:2,item:!0,xs:4,direction:"column"},r.a.createElement(q.a,{className:t.title},"your friends are reading..."),n.map((function(t){return r.a.createElement(F.a,{key:t.id,item:!0},r.a.createElement(J,{cover:t.issues[0].cover}),r.a.createElement(X.a,{alt:t.username,src:"https://cdn.business2community.com/wp-content/uploads/2017/08/blank-profile-picture-973460_640.png"}),r.a.createElement(R.a,{onClick:(n=t.issues[0].marvelId,function(){var t=Object(l.a)(i.a.mark((function t(r){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),t.next=3,e(x(a,n));case 3:return t.abrupt("return");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),color:"primary","aria-label":"upload picture",component:"span"},r.a.createElement(te.a,null)));var n})))},re=Object(E.a)((function(e){return{avatar:{width:e.spacing(20),height:e.spacing(20)},user:{marginBottom:e.spacing(100)},root:{minHeight:"100vh"},header:{}}})),ce=Object(u.b)((function(e,t){return{userIssues:e.entities.issues}}))((function(e){var t=e.userIssues,n=Object(u.d)((function(e){return e.entities.users})),a=Object(u.d)((function(e){return e.entities.issues})),c=re();return console.log(t),console.log(n.issues),console.log(a),r.a.createElement(F.a,{className:c.root,justify:"flex-start",container:!0,direction:"column"},r.a.createElement(F.a,{className:c.header,item:!0},r.a.createElement(V,null)),r.a.createElement(F.a,{className:c.user,container:!0,item:!0,justify:"center",alignItems:"flex-start"},r.a.createElement(z,{props:n.username}),r.a.createElement(K,null),r.a.createElement(ae,null)),r.a.createElement(F.a,{item:!0},r.a.createElement($,null)))})),se=Object(E.a)((function(e){return{root:{minHeight:"100vh",backgroundColor:"#A2E0DB"},footer:{marginTop:e.spacing(66)},signup:{marginLeft:e.spacing(20),marginTop:e.spacing(20)}}})),ue=function(){var e=se();return r.a.createElement("div",{className:e.root},r.a.createElement(F.a,{container:!0,direction:"column"},r.a.createElement(F.a,{item:!0},r.a.createElement(V,null)),r.a.createElement(F.a,{container:!0,item:!0},r.a.createElement(F.a,{item:!0,xs:1}),r.a.createElement(F.a,{className:e.signup,item:!0,xs:5,justify:"center",alignItems:"center",direction:"column"},r.a.createElement(q.a,null,"Sign Up"),r.a.createElement(C,null)),r.a.createElement(F.a,{item:!0},"Content"),r.a.createElement(F.a,{item:!0,xs:1})),r.a.createElement(F.a,{className:e.footer,item:!0},r.a.createElement($,null))))},oe=Object(u.b)((function(e,t){var n=e.session.user;return Object(h.a)({user:n},t)}))((function(e){var t=e.user,n=e.path,a=e.component;return t?r.a.createElement(r.a.Fragment,null,r.a.createElement(p.b,{path:n,component:a}),"/"===n?r.a.createElement(p.a,{to:"/user"}):r.a.createElement(r.a.Fragment,null)):r.a.createElement(ue,null)}));var ie,le=function(){return Object(a.useEffect)((function(){(function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/session/csrf");case 2:if(!e.sent.ok){e.next=5;break}return e.abrupt("return");case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement(m.a,null,r.a.createElement(p.d,null,r.a.createElement(p.b,{path:"/users"},r.a.createElement(U,null)),r.a.createElement(p.b,{path:"/login"},r.a.createElement(_,null)),r.a.createElement(p.b,{path:"/signup"},r.a.createElement(C,null)),r.a.createElement(oe,{path:"/",component:ce})))},me=n(31),pe=n(61),fe=Object(me.c)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"users/SET_USER":return Object(h.a)({},t.user);default:return e}},issues:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"issues/SET_ISSUES":return Object(h.a)(Object(h.a)({},t.issues),e);case"issues/DELETE_ISSUE":return Object(h.a)({},t.issues);default:return e}}}),de=Object(me.c)({session:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0,n=Object.assign({},e);switch(t.type){case"session/SET_SESSION":return n.user=t.user,n;case"session/LOGOUT_USER":return{};default:return e}},entities:fe});ie=Object(me.a)(pe.a);var be,Ee=Object(me.d)(de,be,ie);s.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(u.a,{store:Ee},r.a.createElement(le,null))),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.0a88c183.chunk.js.map